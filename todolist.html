<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Family Happy Times">
    <meta name="author" content="FHT">

    <title>Family Happy Times | To-Do List</title>

    <!-- Todolist CSS -->
    <link rel="stylesheet" href="todolist_resources/jquery-ui.css"/>
    <link rel="stylesheet" href="todolist_resources/style.css"/>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/business-casual.min.css" rel="stylesheet">

    <style>  
      .tooltips {
        position: relative;
        display: inline-block;
      }
      .tooltips .tooltiptext {
        visibility: hidden;
        width: 140px;
        background-color: #555;
        color: #fff;
        text-align: center;
        border-radius: 6px;
        padding: 5px;
        position: absolute;
        z-index: 1;
        bottom: 150%;
        left: 50%;
        margin-left: -75px;
        opacity: 0;
        transition: opacity 0.3s;
      }

      .tooltips .tooltiptext::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #555 transparent transparent transparent;
      }

      .tooltips:hover .tooltiptext {
        visibility: visible;
        opacity: 1;
      }
    </style>
  </head>

  <body>

    <h1 class="site-heading text-center text-white d-none d-lg-block">
    <span class="site-heading-upper text-primary mb-3">Happy</span>
    <span class="site-heading-lower">Family Times</span>
  </h1>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
    <div class="container">
      <a class="navbar-brand text-uppercase text-expanded font-weight-bold d-lg-none" href="#">Happy Family Times</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="index.html">Home
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="calendar.html">Calendar</a>
          </li>
          <li class="nav-item active px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="todolist.html">To-Do List</a>
          </li>
          <li class="nav-item px-lg-4">
            <a class="nav-link text-uppercase text-expanded" href="web.html">Book Here!</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

    <section id="todolists" class="page-section p-5 pt-0">
      <div class="container">
        <div style="overflow: hidden;" class="mx-auto">
          <div id="s002123" class="rounded mx-auto text-center p-3 mb-3">
             <h3>Add task</h3>
            <form id="todo-form">
              <input type="text" placeholder="Title" />
              <input type="text" id="textarea" placeholder="Description"/>
              <input type="text" id="datepicker" placeholder="Due Date (dd/mm/yy)" />
              <br/>
              <input type="button" class="btn btn-primary mt-3" value="Add task" onclick="todo.add();" />
            </form> 
          </div>
          
          

          <div class="d-flex">
            <div class="col-xl-3 task-list ml-auto border border-white" id="pending">
             <h3>Pending</h3>
            </div>
            <div class="col-xl-3 task-list mx-auto border border-white" id="inProgress">
              <h3>In Progress</h3>
            </div>
            <div class="col-xl-3 task-list mr-auto border border-white" id="completed">
              <h3>Completed</h3>
           </div>
          </div>

          <div class="m-3" id="delete-div">Drag Here to Delete</div>

          <div class="text-center mt-3 w-75 mx-auto text-light">
            <textarea id="myInput" class="p-1 w-50 bg-faded border border-none h-auto"></textarea>
            <br/>
            <div class="tooltips">
              <button class="btn btn-light" onclick="myClipboard()" onmouseout="outFunc()">
                <span class="tooltiptext" id="myTooltip">Copy to clipboard</span>
                Copy
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="todolists2" class="page-section bg-faded rounded m-5 pt-5 pb-5">
      <div class="container">
        <p>Unfortunately, To-do List aren't working with mobile devices yet. As for now, it only work with desktop.</p>
      </div>
    </section>
    <footer class="footer text-faded text-center py-5">
      <div class="container">
        <p class="text-faded">
          <a class="text-faded text-uppercase text-expanded" href="index.html">Home</a>
           | <a class="text-faded text-uppercase text-expanded" href="calendar.html">Calendar</a>
           | <a class="text-faded text-uppercase text-expanded" href="todolist.html">To-Do List</a>
           | <a class="text-faded text-uppercase text-expanded" href="web.html">Book Here!</a>
           | <a class="text-faded text-uppercase text-expanded" href="contact.html">Contact Us</a>
        </p>
        <p class="m-0 small">Copyright &copy; Family Happy Times 2020</p>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="todolist_resources/jquery.min.js"></script> 
   <!-- <script src="vendor/jquery/jquery.min.js"></script>-->
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="todolist_resources/jquery-ui.min.js"></script>
    <script src="todolist_resources/todo.js"></script> 
    <script type="text/javascript">
       $("#datepicker").datepicker();
       $("#datepicker").datepicker("option", "dateFormat", "dd/mm/yy");
       todo.init();
    </script>
    <script type="text/javascript">
      function myClipboard(){
        var getData = JSON.parse(localStorage.getItem("todoData"));
        var myArray = Object.values(getData);
       
        var inPending = [];
        var inProgress = [];
        var inCompleted = [];

        for (var x=0;x<myArray.length;x++){
          if (myArray[x].code == 1){
            inPending.push(myArray[x].id);
          }else if(myArray[x].code == 2){
            inProgress.push(myArray[x].id);
          }else if(myArray[x].code == 3){
            inCompleted.push(myArray[x].id);
          }
        }
        
        var s1 = "Planned \n", s2 = "Pending \n", s3 = "Completed \n";
        for(var i=0;i<inPending.length;i++){
          var q = 1+i;
          s1 += "- Plan "+q+" is "+getData[inPending[i]].title+", described "+getData[inPending[i]].description+" at "+getData[inPending[i]].date+"\n";
        }
        for(var y=0;y<inProgress.length;y++){
          var q = 1+y;
          s2 += "- In progress plan "+q+" is "+getData[inProgress[y]].title+", described "+getData[inProgress[y]].description+" at "+getData[inProgress[y]].date+"\n";
        }

        for(var z=0;z<inCompleted.length;z++){
          var q = 1+z;
          s3 += "- Completed plan "+q+" are "+getData[inCompleted[z]].title+", described "+getData[inCompleted[z]].description+" at "+getData[inCompleted[z]].date+"\n";
        }
        var s4 = s1 + s2 + s3;
        console.log(s4);
        document.getElementById("myInput").value = s4;
      
        var copyText = document.getElementById("myInput");

        /* Select the text field */
        copyText.select();
        copyText.setSelectionRange(0, 99999); /*For mobile devices*/

        /* Copy the text inside the text field */
        document.execCommand("copy");

        var tooltip = document.getElementById("myTooltip");
        tooltip.innerHTML = "Text copied";
      }
    </script>
    <script type="text/javascript">
      function outFunc() {
        var tooltip = document.getElementById("myTooltip");
        tooltip.innerHTML = "Copy to clipboard";
      }
    </script>
  </body>

  <!-- Script to highlight the active date in the hours list -->
  <script>
    $('.list-hours li').eq(new Date().getDay()).addClass('today');
  </script>

</html>
